!function(e){function t(t){for(var r,o,s=t[0],d=t[1],l=t[2],u=0,m=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(e[r]=d[r]);for(c&&c(t);m.length;)m.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var d=n[s];0!==a[d]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={1:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window.webpackJsonp=window.webpackJsonp||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=d;i.push([1,4,0]),n()}({1:function(e,t,n){e.exports=n("uGlQ")},"6lls":function(e,t){},MbVc:function(e,t){e.exports=".skyux-app-loading{visibility:hidden}.sky-modal-body-full-page #bb-help-container.bb-help-closed>#bb-help-invoker{display:none}"},NO9k:function(e,t,n){var r=n("LboF"),a=n("MbVc");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);e.exports=a.locals||{}},YwUl:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="YwUl"},uGlQ:function(e,t,n){"use strict";n.r(t);var r=n("hv2d"),a=n("E1rE"),i=n("DUip"),o=n("mrSG"),s=n("K9Ia"),d=n("ny24"),l=n("BUHi"),c=n("n2Nc"),u=n("TYT/"),m=n("p+fK"),p=n("6IyS"),h=n("qkZW"),f=n("vB3b"),g=n("Valr"),v=function(e){return{"skyux-app-loading":e}};n("NO9k");var y=!1;function b(e,t,n){return n.runtime.params.getUrl(e+t)}function x(e,t,n){for(var r=0,a=e;r<a.length;r++){var i=a[r];!i.url&&i.route&&(i.url=b(t,i.route,n)),i.items&&x(i.items,t,n)}}var S=function(){function e(e,t,n,r,a,i,o,d,c,u,m){var p,h=this;if(this.router=e,this.windowRef=t,this.config=n,this.styleLoader=r,this.helpInitService=a,this.searchProvider=i,this.zone=d,this.omnibarProvider=c,this.themeSvc=m,this.isReady=!1,this.ngUnsubscribe=new s.a,this.skyuxHost=this.windowRef.nativeWindow.SKYUX_HOST,this.themeSvc){var f=this.getInitialThemeSettings();this.themeSvc.init(document.body,u,f);var g=null===(p=this.skyuxHost)||void 0===p?void 0:p.setupThemeSwitcher;if(g){var v=this.config.skyux.app,y=v&&v.theming;if(y&&y.supportedThemes.indexOf("modern")>=0){var b=[{settings:new l.k(l.c.presets.modern,l.h.presets.light)},{settings:new l.k(l.c.presets.modern,l.h.presets.dark),suffix:" - dark (experimental)",hidden:!0}];y.supportedThemes.indexOf("default")>=0&&b.splice("default"===f.theme.name?0:b.length,0,{settings:new l.k(l.c.presets.default,l.h.presets.light)});var x={next:function(){}};g(b,(function(e){h.themeSvc.setTheme(e)}),x),this.themeSvc.settingsChange.subscribe((function(e){x.next(e.currentSettings)}))}}}this.styleLoader.loadStyles().then((function(e){h.isReady=!0,e&&e.error&&console.log(e.error.message),setTimeout((function(){o.visible.next(!0)}))}))}return e.prototype.ngOnInit=function(){var e=this;this.router.events.subscribe((function(t){t instanceof i.b&&(e.router.parseUrl(t.url).fragment||e.windowRef.nativeWindow.scroll(0,0))})),this.initShellComponents()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),y&&(c.BBAuthClientFactory.BBOmnibar.destroy(),y=!1),this.themeSvc&&this.themeSvc.destroy()},e.prototype.setParamsFromQS=function(e){var t=this,n={envid:"envId",leid:"leId",svcid:"svcId"};Object.keys(n).forEach((function(r){t.config.runtime.params.has(r)&&(e[n[r]]=t.config.runtime.params.get(r))}))},e.prototype.setOnSearch=function(e){var t=this;this.searchProvider&&(e.onSearch=function(e){return t.searchProvider.getSearchResults(e)})},e.prototype.setNav=function(e){var t,n=this,r=this.config.skyux,a=(r.host.url+this.config.runtime.app.base.substr(0,this.config.runtime.app.base.length-1)).toLowerCase();if(e.nav?function(e,t,n){var r=e.services;if(r&&r.length>0){for(var a=!1,i=0,o=r;i<o.length;i++){var s=o[i];s.items&&x(s.items,t,n),s.selected&&(a=!0)}a||(r[0].selected=!0)}}(t=e.nav,a,this.config):t=e.nav={},t.beforeNavCallback=function(e){var t=e.url.toLowerCase();if(t===a||0===t.indexOf(a+"/")||0===t.indexOf(a+"?")){var r=e.url.substring(a.length,t.length);return n.zone.run((function(){n.router.navigateByUrl(r)})),!1}return!0},"serve"===this.config.runtime.command){var i=r.routes&&r.routes.public&&r.routes.public.filter((function(e){return e.global}));if(i){for(var o=[],s=0,d=i;s<d.length;s++){var l=d[s];o.push({title:l.name,url:b(a,l.route,this.config),data:l})}t.localNavItems=o}}},e.prototype.setOmnibarArgsOverrides=function(e,t){t&&(t.hasOwnProperty("envId")&&(e.envId=t.envId),t.hasOwnProperty("svcId")&&(e.svcId=t.svcId))},e.prototype.initShellComponents=function(){return Object(o.b)(this,void 0,void 0,(function(){var e,t,n,r,a,i,s=this;return Object(o.d)(this,(function(o){return e=this.config.skyux.omnibar,t=this.config.skyux.help,r=function(e){c.BBAuthClientFactory.BBOmnibar.update({help:{url:e}})},a=function(){var a,i;if(t&&s.helpInitService){var o=null===(i=null===(a=s.skyuxHost)||void 0===a?void 0:a.help)||void 0===i?void 0:i.helpMode;o&&(t.helpMode=o),t.helpUpdateCallback=function(t){e&&(y?r(t.url):n=t.url)},s.helpInitService.load(t)}},i=function(a){s.setParamsFromQS(e),s.setNav(e),s.setOnSearch(e),t&&(e.enableHelp=!0),s.config.skyux.auth?e.allowAnonymous=!1:void 0===e.allowAnonymous&&(e.allowAnonymous=!0),s.setOmnibarArgsOverrides(e,a);var i=s.getInitialThemeSettings();i.theme!==l.c.presets.default&&(e.theme={mode:i.mode.name,name:i.theme.name}),s.zone.runOutsideAngular((function(){c.BBAuthClientFactory.BBOmnibar.load(e).then((function(){n&&r(n),s.themeSvc&&s.themeSvc.settingsChange.pipe(Object(d.a)(s.ngUnsubscribe)).subscribe((function(e){var t=e.currentSettings;c.BBAuthClientFactory.BBOmnibar.update({theme:{mode:t.mode.name,name:t.theme.name}})})),y=!0}))}))},"e2e"===this.config.runtime.command&&this.windowRef.nativeWindow.addEventListener("message",(function(e){"sky-navigate-e2e"===e.data.messageType&&s.router.navigate(e.data.url)})),"1"!==this.config.runtime.params.get("addin")&&(a(),e&&(this.omnibarProvider?this.omnibarProvider.ready().then(i):i())),[2]}))}))},e.prototype.getInitialThemeSettings=function(){return new l.k(l.c.presets[this.getInitialThemeName()],l.h.presets.light)},e.prototype.getInitialThemeName=function(){var e,t,n=this.config.skyux.app,r=n&&n.theming;if(r){var a=this.config.runtime.params.get("svcid");if(a){var i=null===(t=null===(e=this.skyuxHost)||void 0===e?void 0:e.theming)||void 0===t?void 0:t.serviceIdMap;if(i){var o=i[a];if(o&&r.supportedThemes.indexOf(o)>=0)return o}}return r.theme}return"default"},e.ɵfac=function(t){return new(t||e)(u["ɵɵdirectiveInject"](i.d),u["ɵɵdirectiveInject"](m.f),u["ɵɵdirectiveInject"](p.a),u["ɵɵdirectiveInject"](l.a),u["ɵɵdirectiveInject"](h.a,8),u["ɵɵdirectiveInject"](f.b,8),u["ɵɵdirectiveInject"](l.b,8),u["ɵɵdirectiveInject"](u.NgZone,8),u["ɵɵdirectiveInject"](f.a,8),u["ɵɵdirectiveInject"](u.Renderer2,8),u["ɵɵdirectiveInject"](l.j,8))},e.ɵcmp=u["ɵɵdefineComponent"]({type:e,selectors:[["sky-pages-app"]],decls:2,vars:3,consts:[[3,"ngClass"]],template:function(e,t){1&e&&(u["ɵɵelementStart"](0,"div",0),u["ɵɵelement"](1,"router-outlet"),u["ɵɵelementEnd"]()),2&e&&u["ɵɵproperty"]("ngClass",u["ɵɵpureFunction1"](1,v,!t.isReady))},directives:[g.j,i.h],encapsulation:2}),e}(),C=n("QJY3"),k=n("2txg"),I=n("wuPR"),E=(n("6lls"),n("E3Gc")),w=n("XZh+"),P=n("hSfL"),O=n("2WT5"),j=n("LZLW"),_=n("ytjF"),M=n("JZqb"),N=n("00ux"),F=n("CL/t"),B=n("LJ3o"),T=function(){function e(){}return e.ɵmod=u["ɵɵdefineNgModule"]({type:e}),e.ɵinj=u["ɵɵdefineInjector"]({factory:function(t){return new(t||e)},imports:[E.a,w.a,w.e,P.b,P.a,O.a,_.a,w.d,B.e,B.a,F.f,M.b,N.k,j.d]}),e}(),A=n("cUzu"),H=function(){function e(e){void 0===e&&(e={}),this.apiKeys=e.apiKeys,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.withCredentials=e.withCredentials}return e.prototype.selectHeaderContentType=function(e){var t=this;if(0!=e.length){var n=e.find((function(e){return t.isJsonMime(e)}));return void 0===n?e[0]:n}},e.prototype.selectHeaderAccept=function(e){var t=this;if(0!=e.length){var n=e.find((function(e){return t.isJsonMime(e)}));return void 0===n?e[0]:n}},e.prototype.isJsonMime=function(e){var t=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!=e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())},e}(),V=function(){function e(e){this.httpClient=e,this.basePath="https://spencer-blackout-api.up.railway.app",this.imagePath="https://murphysw.github.io/card-images",this.defaultHeaders=new A.d,this.configuration=new H}return e.prototype.getPregame=function(e){var t=this.getHeaders();return this.httpClient.get(this.basePath+"/games/"+e+"/pregame",{headers:t})},e.prototype.getScoreboard=function(e){var t=this.getHeaders();return this.httpClient.get(this.basePath+"/games/"+e+"/scoreboard",{headers:t})},e.prototype.getGameboard=function(e){var t=this.getHeaders();return this.httpClient.get(this.basePath+"/games/"+e+"/gameboard",{headers:t})},e.prototype.getPlayerDetails=function(e,t){var n=this.getHeaders();return this.httpClient.get(this.basePath+"/games/"+e+"/players/"+t,{headers:n})},e.prototype.getCurrentGames=function(){var e=this.getHeaders();return this.httpClient.get(this.basePath+"/games/",{headers:e})},e.prototype.initializeGame=function(e){var t=this.getHeaders();return this.httpClient.post(this.basePath+"/games/",{name:e},{headers:t})},e.prototype.removeGame=function(e){var t=this.getHeaders();return this.httpClient.delete(this.basePath+"/games/"+e,{headers:t})},e.prototype.addPlayer=function(e,t){var n=this.getHeaders();return this.httpClient.post(this.basePath+"/games/"+e+"/players",{name:t},{headers:n})},e.prototype.removePlayer=function(e,t){var n=this.getHeaders();return this.httpClient.delete(this.basePath+"/games/"+e+"/players/"+t,{headers:n})},e.prototype.finishSetup=function(e){var t=this.getHeaders();return this.httpClient.post(this.basePath+"/games/"+e+"/finalizeSetup",{},{headers:t})},e.prototype.beginNextRound=function(e){var t=this.getHeaders();return this.httpClient.post(this.basePath+"/games/"+e+"/beginRound",{},{headers:t})},e.prototype.placeBid=function(e,t,n){var r=this.getHeaders();return this.httpClient.post(this.basePath+"/games/"+e+"/players/"+t+"/placebid",{bid:n},{headers:r})},e.prototype.playCard=function(e,t,n,r){var a=this.getHeaders();return this.httpClient.post(this.basePath+"/games/"+e+"/players/"+t+"/placecard",{suit:n,value:r},{headers:a})},e.prototype.finishRound=function(e){var t=this.getHeaders();return this.httpClient.post(this.basePath+"/games/"+e+"/finishround",{},{headers:t})},e.prototype.clearTable=function(e){var t=this.getHeaders();return this.httpClient.post(this.basePath+"/games/"+e+"/cleartable",{},{headers:t})},e.prototype.getHeaders=function(){var e=this.defaultHeaders,t=this.configuration.selectHeaderAccept(["application/json","text/json"]);return void 0!==t&&(e=e.set("Accept",t)),e},e.ɵfac=function(t){return new(t||e)(u["ɵɵinject"](A.b))},e.ɵprov=u["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e}(),G=n("5sfA");function U(e,t){1&e&&(u["ɵɵelementContainerStart"](0),u["ɵɵelement"](1,"sky-icon",7),u["ɵɵelementContainerEnd"]())}function L(e,t){if(1&e&&(u["ɵɵelementContainerStart"](0),u["ɵɵtext"](1),u["ɵɵelementContainerEnd"]()),2&e){var n=u["ɵɵnextContext"]().value;u["ɵɵadvance"](1),u["ɵɵtextInterpolate1"](" ",n," ")}}function D(e,t){if(1&e&&(u["ɵɵtemplate"](0,U,2,0,"ng-container",6),u["ɵɵtemplate"](1,L,2,1,"ng-container",6)),2&e){var n=t.value;u["ɵɵproperty"]("ngIf",-1==n),u["ɵɵadvance"](1),u["ɵɵproperty"]("ngIf",-1!=n)}}function R(e,t){if(1&e&&(u["ɵɵelementStart"](0,"sky-grid-column",5),u["ɵɵtemplate"](1,D,2,2,"ng-template"),u["ɵɵelementEnd"]()),2&e){var n=t.$implicit;u["ɵɵproperty"]("field",n.id)("heading",n.name)}}var q=function(){function e(e){this.scoreboard=e,this.data=[];for(var t={},n=10;n>0;n--){t.roundNumber=n;for(var r=0,a=this.scoreboard.players;r<a.length;r++){t[a[r].id]="-"}if(this.scoreboard.current_bids.round===n)for(var i=0,o=Object.entries(this.scoreboard.current_bids.bids);i<o.length;i++){var s=o[i],d=s[0],l=s[1];t[d]=l}else if(this.scoreboard.scores[n])for(var c=0,u=Object.entries(this.scoreboard.scores[n]);c<u.length;c++){var m=u[c];d=m[0];0===(l=m[1])&&(l=-1),t[d]=l}this.data.push(Object.assign({},t))}t.roundNumber="Total";for(var p=0,h=Object.entries(this.scoreboard.totals);p<h.length;p++){var f=h[p];d=f[0],l=f[1];t[d]=l}this.data.push(Object.assign({},t))}return e.ɵfac=function(t){return new(t||e)(u["ɵɵdirectiveInject"]("ScoreDisplay"))},e.ɵcmp=u["ɵɵdefineComponent"]({type:e,selectors:[["my-scoreboard"]],decls:5,vars:2,consts:[[3,"data"],["fit","scroll"],["grid",""],["field","roundNumber","heading","Round"],[3,"field","heading",4,"ngFor","ngForOf"],[3,"field","heading"],[4,"ngIf"],["icon","circle"]],template:function(e,t){1&e&&(u["ɵɵelementStart"](0,"sky-list",0),u["ɵɵelementStart"](1,"sky-list-view-grid",1,2),u["ɵɵelement"](3,"sky-grid-column",3),u["ɵɵtemplate"](4,R,2,2,"sky-grid-column",4),u["ɵɵelementEnd"](),u["ɵɵelementEnd"]()),2&e&&(u["ɵɵproperty"]("data",t.data),u["ɵɵadvance"](4),u["ɵɵproperty"]("ngForOf",t.scoreboard.players))},directives:[N.j,M.a,G.a,g.k,g.l,w.j],encapsulation:2}),e}(),$=function(){function e(e,t){this.instance=e,this.text=t}return e.ɵfac=function(t){return new(t||e)(u["ɵɵdirectiveInject"](B.d),u["ɵɵdirectiveInject"]("Text"))},e.ɵcmp=u["ɵɵdefineComponent"]({type:e,selectors:[["my-error-modal"]],decls:9,vars:1,consts:[["type","button",1,"sky-btn","sky-btn-primary",3,"click"]],template:function(e,t){1&e&&(u["ɵɵelementStart"](0,"sky-modal"),u["ɵɵelementStart"](1,"sky-modal-header"),u["ɵɵtext"](2," Error "),u["ɵɵelementEnd"](),u["ɵɵelementStart"](3,"sky-modal-content"),u["ɵɵelementStart"](4,"div"),u["ɵɵtext"](5),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementStart"](6,"sky-modal-footer"),u["ɵɵelementStart"](7,"button",0),u["ɵɵlistener"]("click",(function(){return t.instance.close()})),u["ɵɵtext"](8," Ok "),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementEnd"]()),2&e&&(u["ɵɵadvance"](5),u["ɵɵtextInterpolate1"](" ",t.text," "))},directives:[B.g,B.j,B.h,B.i],encapsulation:2}),e}(),z=function(){function e(){}return e.ɵmod=u["ɵɵdefineNgModule"]({type:e}),e.ɵinj=u["ɵɵdefineInjector"]({factory:function(t){return new(t||e)},providers:[V],imports:[[i.g.forRoot([],{useHash:!0})],T]}),e}(),K=n("IcVP"),W=n("6QBt"),J=n("SqC/"),Y=n("xXU7"),Q=n("VNr4"),X=function(){return{exact:!0}};function Z(e,t){if(1&e&&(u["ɵɵelementStart"](0,"sky-navbar-item"),u["ɵɵelementStart"](1,"a",1),u["ɵɵtext"](2),u["ɵɵpipe"](3,"skyAppResources"),u["ɵɵelementEnd"](),u["ɵɵelementEnd"]()),2&e){var n=t.$implicit;u["ɵɵadvance"](1),u["ɵɵproperty"]("routerLink",n.path)("routerLinkActiveOptions",u["ɵɵpureFunction0"](5,X)),u["ɵɵadvance"](1),u["ɵɵtextInterpolate1"](" ",u["ɵɵpipeBind1"](3,3,n.titleKey)," ")}}var ee=function(){function e(){this.nav=[{titleKey:"app_nav_home",path:"/"}]}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=u["ɵɵdefineComponent"]({type:e,selectors:[["app-nav"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["routerLinkActive","sky-navbar-item-active",3,"routerLink","routerLinkActiveOptions"]],template:function(e,t){1&e&&(u["ɵɵelementStart"](0,"sky-navbar"),u["ɵɵtemplate"](1,Z,4,6,"sky-navbar-item",0),u["ɵɵelementEnd"]()),2&e&&(u["ɵɵadvance"](1),u["ɵɵproperty"]("ngForOf",t.nav))},directives:[O.b,g.k,O.c,i.f,i.e],pipes:[I.c],styles:[""]}),e}();function te(e,t){if(1&e){var n=u["ɵɵgetCurrentView"]();u["ɵɵelementStart"](0,"div"),u["ɵɵtext"](1," Game has ended! "),u["ɵɵelementStart"](2,"div",2),u["ɵɵelementStart"](3,"button",3),u["ɵɵlistener"]("click",(function(){return u["ɵɵrestoreView"](n),u["ɵɵnextContext"](2).openScoreboardFlyout()})),u["ɵɵtext"](4,"Scorecard"),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementEnd"]()}}function ne(e,t){if(1&e&&(u["ɵɵelementStart"](0,"button",18),u["ɵɵtext"](1,"Place bid"),u["ɵɵelementEnd"]()),2&e){u["ɵɵnextContext"]();var n=u["ɵɵreference"](5);u["ɵɵproperty"]("disabled",!n.form.valid)}}function re(e,t){if(1&e){var n=u["ɵɵgetCurrentView"]();u["ɵɵelementContainerStart"](0),u["ɵɵelementStart"](1,"h1",12),u["ɵɵtext"](2,"Trump:"),u["ɵɵelementEnd"](),u["ɵɵelement"](3,"img",13),u["ɵɵelementStart"](4,"form",14,15),u["ɵɵlistener"]("ngSubmit",(function(){return u["ɵɵrestoreView"](n),u["ɵɵnextContext"](3).placeBid()})),u["ɵɵelementStart"](6,"h2"),u["ɵɵtext"](7,"Bidding"),u["ɵɵelementEnd"](),u["ɵɵelementStart"](8,"input",16),u["ɵɵlistener"]("ngModelChange",(function(e){return u["ɵɵrestoreView"](n),u["ɵɵnextContext"](3).bid=e})),u["ɵɵelementEnd"](),u["ɵɵtemplate"](9,ne,2,1,"button",17),u["ɵɵelementEnd"](),u["ɵɵelementContainerEnd"]()}if(2&e){var r=u["ɵɵnextContext"](3);u["ɵɵadvance"](3),u["ɵɵpropertyInterpolate2"]("src","",r.getImagePath(),"/cards/",r.getImageName(r.gameboard.trump),".png",u["ɵɵsanitizeUrl"]),u["ɵɵadvance"](5),u["ɵɵproperty"]("ngModel",r.bid)("max",r.gameboard.current_round),u["ɵɵadvance"](1),u["ɵɵproperty"]("ngIf",r.isCurrentPlayer())}}var ae=function(e,t){return{highlightedCard:e,tempHighlightedCard:t}};function ie(e,t){if(1&e&&(u["ɵɵelementStart"](0,"div",20),u["ɵɵelement"](1,"img",21),u["ɵɵelementStart"](2,"span",22),u["ɵɵtext"](3),u["ɵɵelementEnd"](),u["ɵɵelementEnd"]()),2&e){var n=t.$implicit,r=u["ɵɵnextContext"](4);u["ɵɵadvance"](1),u["ɵɵpropertyInterpolate2"]("src","",r.getImagePath(),"/cards/",r.getImageName(n.card),".png",u["ɵɵsanitizeUrl"]),u["ɵɵproperty"]("ngClass",u["ɵɵpureFunction2"](4,ae,r.isHandFinished()&&n.played_by===r.gameboard.current_player_id,!r.isHandFinished()&&n.played_by===r.gameboard.projected_hand_winner)),u["ɵɵadvance"](2),u["ɵɵtextInterpolate"](r.getPlayerNameById(n.played_by))}}function oe(e,t){if(1&e){var n=u["ɵɵgetCurrentView"]();u["ɵɵelementStart"](0,"button",3),u["ɵɵlistener"]("click",(function(){return u["ɵɵrestoreView"](n),u["ɵɵnextContext"](5).clearTable()})),u["ɵɵtext"](1,"Clear table"),u["ɵɵelementEnd"]()}}function se(e,t){if(1&e){var n=u["ɵɵgetCurrentView"]();u["ɵɵelementStart"](0,"button",3),u["ɵɵlistener"]("click",(function(){return u["ɵɵrestoreView"](n),u["ɵɵnextContext"](5).beginNextRound()})),u["ɵɵtext"](1,"Begin next round"),u["ɵɵelementEnd"]()}}function de(e,t){if(1&e&&(u["ɵɵelementContainerStart"](0),u["ɵɵelementStart"](1,"p"),u["ɵɵtext"](2),u["ɵɵtemplate"](3,oe,2,0,"button",6),u["ɵɵtemplate"](4,se,2,0,"button",6),u["ɵɵelementEnd"](),u["ɵɵelementContainerEnd"]()),2&e){var n=u["ɵɵnextContext"](4);u["ɵɵadvance"](2),u["ɵɵtextInterpolate1"](" Trick taken by ",n.getPlayerNameById(n.gameboard.current_player_id)," "),u["ɵɵadvance"](1),u["ɵɵproperty"]("ngIf",!n.gameboard.round_finished&&n.isCurrentPlayer()),u["ɵɵadvance"](1),u["ɵɵproperty"]("ngIf",n.gameboard.round_finished)}}function le(e,t){if(1&e&&(u["ɵɵelementContainerStart"](0),u["ɵɵelementStart"](1,"h2"),u["ɵɵtext"](2,"Table:"),u["ɵɵelementEnd"](),u["ɵɵelement"](3,"p"),u["ɵɵtemplate"](4,ie,4,7,"div",19),u["ɵɵtemplate"](5,de,5,3,"ng-container",0),u["ɵɵelementContainerEnd"]()),2&e){var n=u["ɵɵnextContext"](3);u["ɵɵadvance"](4),u["ɵɵproperty"]("ngForOf",n.gameboard.current_hand),u["ɵɵadvance"](1),u["ɵɵproperty"]("ngIf",n.isHandFinished())}}var ce=function(e){return{highlightedCard:e}};function ue(e,t){if(1&e){var n=u["ɵɵgetCurrentView"]();u["ɵɵelementStart"](0,"label"),u["ɵɵelement"](1,"img",21),u["ɵɵelementStart"](2,"input",23),u["ɵɵlistener"]("ngModelChange",(function(e){return u["ɵɵrestoreView"](n),u["ɵɵnextContext"](3).playingCard=e})),u["ɵɵelementEnd"](),u["ɵɵelementEnd"]()}if(2&e){var r=t.$implicit,a=u["ɵɵnextContext"](3);u["ɵɵadvance"](1),u["ɵɵpropertyInterpolate2"]("src","",a.getImagePath(),"/cards/",a.getImageName(r),".png",u["ɵɵsanitizeUrl"]),u["ɵɵproperty"]("ngClass",u["ɵɵpureFunction1"](5,ce,a.playingCard==r)),u["ɵɵadvance"](1),u["ɵɵproperty"]("ngModel",a.playingCard)("value",r)}}function me(e,t){if(1&e){var n=u["ɵɵgetCurrentView"]();u["ɵɵelementStart"](0,"button",3),u["ɵɵlistener"]("click",(function(){return u["ɵɵrestoreView"](n),u["ɵɵnextContext"](3).playCard()})),u["ɵɵtext"](1,"Play card"),u["ɵɵelementEnd"]()}}function pe(e,t){1&e&&(u["ɵɵelementContainerStart"](0),u["ɵɵtext"](1,"*"),u["ɵɵelementContainerEnd"]())}function he(e,t){if(1&e&&(u["ɵɵelementStart"](0,"sky-definition-list-content"),u["ɵɵelementStart"](1,"sky-definition-list-label"),u["ɵɵtext"](2),u["ɵɵtemplate"](3,pe,2,0,"ng-container",0),u["ɵɵelementEnd"](),u["ɵɵelementStart"](4,"sky-definition-list-value"),u["ɵɵtext"](5),u["ɵɵelementEnd"](),u["ɵɵelementEnd"]()),2&e){var n=t.$implicit,r=u["ɵɵnextContext"](3);u["ɵɵadvance"](2),u["ɵɵtextInterpolate1"](" ",n.name," "),u["ɵɵadvance"](1),u["ɵɵproperty"]("ngIf",n.id===r.gameboard.dealer_id),u["ɵɵadvance"](2),u["ɵɵtextInterpolate2"](" ",r.gameboard.tricks_taken[n.id]," of ",r.scoreboard.current_bids.bids[n.id]," ")}}function fe(e,t){if(1&e){var n=u["ɵɵgetCurrentView"]();u["ɵɵelementStart"](0,"div"),u["ɵɵelementStart"](1,"h2"),u["ɵɵtext"](2),u["ɵɵelementEnd"](),u["ɵɵelementStart"](3,"h1"),u["ɵɵtext"](4),u["ɵɵelementEnd"](),u["ɵɵtemplate"](5,re,10,5,"ng-container",0),u["ɵɵtemplate"](6,le,6,2,"ng-container",0),u["ɵɵelementStart"](7,"h2"),u["ɵɵtext"](8,"Hand: "),u["ɵɵelement"](9,"img",4),u["ɵɵelementEnd"](),u["ɵɵelement"](10,"p"),u["ɵɵtemplate"](11,ue,3,7,"label",5),u["ɵɵelementStart"](12,"p"),u["ɵɵtemplate"](13,me,2,0,"button",6),u["ɵɵelementEnd"](),u["ɵɵelementStart"](14,"sky-definition-list"),u["ɵɵelementStart"](15,"sky-definition-list-heading"),u["ɵɵtext"](16),u["ɵɵelementEnd"](),u["ɵɵtemplate"](17,he,6,4,"sky-definition-list-content",5),u["ɵɵelementEnd"](),u["ɵɵelementStart"](18,"button",7),u["ɵɵlistener"]("click",(function(){return u["ɵɵrestoreView"](n),u["ɵɵnextContext"](2).openScoreboardFlyout()})),u["ɵɵtext"](19,"Scorecard"),u["ɵɵelementEnd"](),u["ɵɵelementStart"](20,"div",8),u["ɵɵelementStart"](21,"sky-radio-group",9),u["ɵɵlistener"]("ngModelChange",(function(e){return u["ɵɵrestoreView"](n),u["ɵɵnextContext"](2).toggleDescending=e})),u["ɵɵelementStart"](22,"ul",10),u["ɵɵelementStart"](23,"li"),u["ɵɵelementStart"](24,"sky-radio",11),u["ɵɵlistener"]("change",(function(){return u["ɵɵrestoreView"](n),u["ɵɵnextContext"](2).changeToggle()})),u["ɵɵelementStart"](25,"sky-radio-label"),u["ɵɵtext"](26," Hand ascending "),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementStart"](27,"sky-radio",11),u["ɵɵlistener"]("change",(function(){return u["ɵɵrestoreView"](n),u["ɵɵnextContext"](2).changeToggle()})),u["ɵɵelementStart"](28,"sky-radio-label"),u["ɵɵtext"](29," Hand descending "),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementEnd"]()}if(2&e){var r=u["ɵɵnextContext"](2);u["ɵɵadvance"](2),u["ɵɵtextInterpolate1"]("Playing ",r.gameboard.current_round," hand"),u["ɵɵadvance"](2),u["ɵɵtextInterpolate1"]("Waiting on: ",r.getCurrentPlayer(),""),u["ɵɵadvance"](1),u["ɵɵproperty"]("ngIf",!r.gameboard.bidding_complete),u["ɵɵadvance"](1),u["ɵɵproperty"]("ngIf",r.gameboard.bidding_complete),u["ɵɵadvance"](3),u["ɵɵpropertyInterpolate2"]("src","",r.getImagePath(),"/cards/",r.getImageName(r.gameboard.trump),".png",u["ɵɵsanitizeUrl"]),u["ɵɵadvance"](2),u["ɵɵproperty"]("ngForOf",r.hand),u["ɵɵadvance"](2),u["ɵɵproperty"]("ngIf",r.gameboard.bidding_complete&&r.isCurrentPlayer()),u["ɵɵadvance"](3),u["ɵɵtextInterpolate1"](" Tricks taken: (",r.getOverUnder(),") "),u["ɵɵadvance"](1),u["ɵɵproperty"]("ngForOf",r.gameboard.players),u["ɵɵadvance"](4),u["ɵɵproperty"]("ngModel",r.toggleDescending),u["ɵɵadvance"](3),u["ɵɵproperty"]("value",1),u["ɵɵadvance"](3),u["ɵɵproperty"]("value",-1)}}var ge=function(e){return{activePlayer:e}};function ve(e,t){if(1&e&&(u["ɵɵelementStart"](0,"main"),u["ɵɵelementStart"](1,"div",1),u["ɵɵelementStart"](2,"sky-fluid-grid"),u["ɵɵelementStart"](3,"sky-row"),u["ɵɵelementStart"](4,"sky-column"),u["ɵɵelementStart"](5,"h1"),u["ɵɵtext"](6),u["ɵɵelementEnd"](),u["ɵɵtemplate"](7,te,5,0,"div",0),u["ɵɵtemplate"](8,fe,30,13,"div",0),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementEnd"]()),2&e){var n=u["ɵɵnextContext"]();u["ɵɵadvance"](1),u["ɵɵproperty"]("ngClass",u["ɵɵpureFunction1"](4,ge,n.gameboard.current_player_id===n.playerId&&!n.gameboard.game_finished)),u["ɵɵadvance"](5),u["ɵɵtextInterpolate1"](" Gameboard for ",n.player.name," "),u["ɵɵadvance"](1),u["ɵɵproperty"]("ngIf",n.gameboard.game_finished),u["ɵɵadvance"](1),u["ɵɵproperty"]("ngIf",!n.gameboard.game_finished)}}var ye=function(){function e(e,t,n,r){var a=this;this.route=e,this.flyoutService=t,this.modal=n,this.apiService=r,this.hand=[],this.pageLoaded=!1,this.toggleDescending=1,this.suitOrder=["c","d","s","h"],this.route.queryParams.subscribe((function(e){a.gameId=e.gameId,a.playerId=e.playerId}))}return e.prototype.ngOnInit=function(){var e=this;this.refreshGameData(),Object(Y.a)(1e3).subscribe((function(){e.isCurrentPlayer()&&!e.gameboard.round_finished||e.gameboard.game_finished||e.refreshGameData()}))},e.prototype.getCurrentPlayer=function(){return this.findPlayerById(this.gameboard.current_player_id).name},e.prototype.openScoreboardFlyout=function(){var e=this,t={providers:[{provide:"ScoreDisplay",useValue:this.scoreboard}],defaultWidth:window.innerWidth};this.flyout=this.flyoutService.open(q,t),this.flyout.closed.subscribe((function(){e.flyout=void 0}))},e.prototype.placeBid=function(){var e=this;!Number.isInteger(this.bid)||this.bid<0||this.bid>this.gameboard.current_round?this.modal.open($,[{provide:"Text",useValue:"Bid must be a number between 0 and "+this.gameboard.current_round}]):this.apiService.placeBid(this.gameId,this.playerId,this.bid).subscribe((function(){e.refreshGameData(),e.bid=void 0}))},e.prototype.playCard=function(){var e=this;this.apiService.playCard(this.gameId,this.playerId,this.playingCard.suit,this.playingCard.value).subscribe((function(){e.refreshGameData()}),(function(){e.modal.open($,[{provide:"Text",useValue:"This card cannot be played, you must follow suit"}])}))},e.prototype.clearTable=function(){var e=this;this.apiService.clearTable(this.gameId).subscribe((function(){e.refreshGameData()}))},e.prototype.beginNextRound=function(){var e=this;this.apiService.beginNextRound(this.gameId).subscribe((function(){e.refreshGameData()}))},e.prototype.getImageName=function(e){return e.value+e.suit.toUpperCase()},e.prototype.isHandFinished=function(){return this.gameboard.current_hand.length===this.gameboard.players.length},e.prototype.isCurrentPlayer=function(){return!!this.gameboard&&this.playerId===this.gameboard.current_player_id},e.prototype.getPlayerNameById=function(e){return this.findPlayerById(e).name},e.prototype.getOverUnder=function(){for(var e=this.scoreboard.current_bids.round,t=0,n=Object.values(this.scoreboard.current_bids.bids);t<n.length;t++){e-=n[t]}return 0===e?"Even":e>0?e+" under":Math.abs(e)+" over"},e.prototype.changeToggle=function(){this.isCurrentPlayer()&&this.refreshGameData()},e.prototype.getImagePath=function(){return this.apiService.imagePath},e.prototype.findPlayerById=function(e){return this.gameboard.players.find((function(t){return t.id===e}))},e.prototype.refreshGameData=function(){var e=this;Object(Q.a)([this.apiService.getGameboard(this.gameId),this.apiService.getScoreboard(this.gameId)]).subscribe((function(t){var n=t[0],r=t[1];e.gameboard=n,e.scoreboard=r,e.player=e.findPlayerById(e.playerId),e.hand=e.player.hand.sort((function(t,n){return t.suit===n.suit?(t.value-n.value)*e.toggleDescending:e.suitOrder.indexOf(t.suit)<e.suitOrder.indexOf(n.suit)?-1:1})),e.pageLoaded=!0}))},e.ɵfac=function(t){return new(t||e)(u["ɵɵdirectiveInject"](i.a),u["ɵɵdirectiveInject"](_.b),u["ɵɵdirectiveInject"](B.f),u["ɵɵdirectiveInject"](V))},e.ɵcmp=u["ɵɵdefineComponent"]({type:e,selectors:[["my-game"]],inputs:{bid:"bid",playingCard:"playingCard"},decls:2,vars:1,consts:[[4,"ngIf"],[3,"ngClass"],[2,"margin-top","10px"],[3,"click"],["height","50",1,"trumpCard",3,"src"],[4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],[1,"extraBottom",3,"click"],[1,"extraBottom"],["name","toggleDescending",3,"ngModel","ngModelChange"],[1,"sky-list-unstyled"],[3,"value","change"],[1,"trump"],["height","100",1,"trumpCard",3,"src"],[3,"ngSubmit"],["bidForm","ngForm"],["id","bid","name","bid","type","number","required","","min","0",1,"form-control",3,"ngModel","max","ngModelChange"],["type","submit",3,"disabled",4,"ngIf"],["type","submit",3,"disabled"],["class","playedCard",4,"ngFor","ngForOf"],[1,"playedCard"],["height","100",1,"card",3,"src","ngClass"],[1,"playedBy"],["type","radio",1,"hiddenRadio",3,"ngModel","value","ngModelChange"]],template:function(e,t){1&e&&(u["ɵɵelement"](0,"app-nav"),u["ɵɵtemplate"](1,ve,9,6,"main",0)),2&e&&(u["ɵɵadvance"](1),u["ɵɵproperty"]("ngIf",t.pageLoaded))},directives:[ee,g.l,g.j,P.g,P.e,P.f,g.k,P.m,P.o,F.l,C.j,C.m,F.k,F.m,C.s,C.k,C.l,C.n,C.b,C.r,C.o,P.n,P.p,P.q],styles:[".hiddenRadio[_ngcontent-%COMP%]{display:none}.highlightedCard[_ngcontent-%COMP%]{border:5px solid #ff0}.tempHighlightedCard[_ngcontent-%COMP%]{border:3px dotted #ff0}.playedCard[_ngcontent-%COMP%]{vertical-align:top;display:inline-block;text-align:center}.playedBy[_ngcontent-%COMP%]{display:block}.card[_ngcontent-%COMP%]{margin:2px}.trump[_ngcontent-%COMP%]{margin-bottom:5px}.trumpCard[_ngcontent-%COMP%]{margin-left:15px}.extraBottom[_ngcontent-%COMP%]{margin-bottom:25px}.activePlayer[_ngcontent-%COMP%]{background-color:#ead540d4}"]}),e}(),be=function(e){return{gameId:e}};function xe(e,t){if(1&e){var n=u["ɵɵgetCurrentView"]();u["ɵɵelementStart"](0,"sky-definition-list"),u["ɵɵelementStart"](1,"sky-definition-list-heading"),u["ɵɵelementStart"](2,"a",3),u["ɵɵtext"](3),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementStart"](4,"sky-definition-list-content"),u["ɵɵelementStart"](5,"sky-definition-list-label"),u["ɵɵtext"](6," Game id "),u["ɵɵelementEnd"](),u["ɵɵelementStart"](7,"sky-definition-list-value"),u["ɵɵtext"](8),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementStart"](9,"sky-definition-list-content"),u["ɵɵelementStart"](10,"sky-definition-list-label"),u["ɵɵtext"](11," Created at "),u["ɵɵelementEnd"](),u["ɵɵelementStart"](12,"sky-definition-list-value"),u["ɵɵtext"](13),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementStart"](14,"sky-definition-list-content"),u["ɵɵelementStart"](15,"button",4),u["ɵɵlistener"]("click",(function(){u["ɵɵrestoreView"](n);var e=t.$implicit;return u["ɵɵnextContext"]().removeGame(e.id,e.name)})),u["ɵɵtext"](16,"Delete game"),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementEnd"]()}if(2&e){var r=t.$implicit,a=u["ɵɵnextContext"]();u["ɵɵadvance"](2),u["ɵɵproperty"]("routerLink","/pregame")("queryParams",u["ɵɵpureFunction1"](5,be,r.id)),u["ɵɵadvance"](1),u["ɵɵtextInterpolate"](r.name),u["ɵɵadvance"](5),u["ɵɵtextInterpolate1"](" ",r.id," "),u["ɵɵadvance"](5),u["ɵɵtextInterpolate1"](" ",a.formatDate(r.start_date)," ")}}var Se=function(){function e(e,t,n){this.apiService=e,this.confirmService=t,this.modal=n,this.gameName=""}return e.prototype.ngOnInit=function(){this.getGames()},e.prototype.initGame=function(){var e=this;this.apiService.initializeGame(this.gameName).subscribe((function(t){e.getGames(),e.gameName=""}))},e.prototype.removeGame=function(e,t){var n=this;this.confirmService.open({message:"Are you sure you want to delete "+t,type:B.c.YesCancel}).closed.subscribe((function(t){"yes"===t.action&&n.apiService.removeGame(e).subscribe((function(){n.getGames()}),(function(){n.modal.open($,[{provide:"Text",useValue:"Game cannot be deleted if it has been started."}])}))}))},e.prototype.formatDate=function(e){return new Date(e).toLocaleString()},e.prototype.getGames=function(){var e=this;this.apiService.getCurrentGames().subscribe((function(t){e.games=t.games}))},e.ɵfac=function(t){return new(t||e)(u["ɵɵdirectiveInject"](V),u["ɵɵdirectiveInject"](B.b),u["ɵɵdirectiveInject"](B.f))},e.ɵcmp=u["ɵɵdefineComponent"]({type:e,selectors:[["my-home"]],inputs:{gameName:"gameName"},decls:52,vars:3,consts:[[4,"ngFor","ngForOf"],[2,"margin-left","5px",3,"ngModel","ngModelChange"],[2,"margin-bottom","25px",3,"disabled","click"],[3,"routerLink","queryParams"],[3,"click"]],template:function(e,t){1&e&&(u["ɵɵelement"](0,"app-nav"),u["ɵɵelementStart"](1,"main"),u["ɵɵelementStart"](2,"sky-fluid-grid"),u["ɵɵelementStart"](3,"sky-row"),u["ɵɵelementStart"](4,"sky-column"),u["ɵɵelementStart"](5,"h1"),u["ɵɵtext"](6," BLACKOUT "),u["ɵɵelementEnd"](),u["ɵɵelementStart"](7,"p"),u["ɵɵtext"](8," I made a way for us to play Blackout together. Below will be a list of games that are currently going. Either click into an existing game, or if you are the first one here, click 'Start new game'. "),u["ɵɵelementEnd"](),u["ɵɵtemplate"](9,xe,17,7,"sky-definition-list",0),u["ɵɵelement"](10,"br"),u["ɵɵelementStart"](11,"label"),u["ɵɵtext"](12,"New game name: "),u["ɵɵelementStart"](13,"input",1),u["ɵɵlistener"]("ngModelChange",(function(e){return t.gameName=e})),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelement"](14,"br"),u["ɵɵelementStart"](15,"button",2),u["ɵɵlistener"]("click",(function(){return t.initGame()})),u["ɵɵtext"](16,"Start new game"),u["ɵɵelementEnd"](),u["ɵɵelementStart"](17,"h1"),u["ɵɵtext"](18,"Latest updates:"),u["ɵɵelementEnd"](),u["ɵɵelementStart"](19,"h2"),u["ɵɵtext"](20,"11/2/20"),u["ɵɵelementEnd"](),u["ɵɵelementStart"](21,"ul"),u["ɵɵelementStart"](22,"li"),u["ɵɵtext"](23,"Fixed end game screen to not show 0 hand"),u["ɵɵelementEnd"](),u["ɵɵelementStart"](24,"li"),u["ɵɵtext"](25,"Expanded scorecard to take up most of the screen instead of half"),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementStart"](26,"h2"),u["ɵɵtext"](27,"5/5/20"),u["ɵɵelementEnd"](),u["ɵɵelementStart"](28,"ul"),u["ɵɵelementStart"](29,"li"),u["ɵɵtext"](30,"Updated game selection screen, including delete button and sorting by created date"),u["ɵɵelementEnd"](),u["ɵɵelementStart"](31,"li"),u["ɵɵtext"](32,"Added top nav home button"),u["ɵɵelementEnd"](),u["ɵɵelementStart"](33,"li"),u["ɵɵtext"](34,"Fixed issue with last trick taker not updating on new round"),u["ɵɵelementEnd"](),u["ɵɵelementStart"](35,"li"),u["ɵɵtext"](36,"Added better bid validation"),u["ɵɵelementEnd"](),u["ɵɵelementStart"](37,"li"),u["ɵɵtext"](38,"Fixed updating issue when removing player"),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementStart"](39,"h2"),u["ɵɵtext"](40,"5/3/20"),u["ɵɵelementEnd"](),u["ɵɵelementStart"](41,"ul"),u["ɵɵelementStart"](42,"li"),u["ɵɵtext"](43,"Updated text around round number, over/under"),u["ɵɵelementEnd"](),u["ɵɵelementStart"](44,"li"),u["ɵɵtext"](45,"Removed suit letter from trump, hid large trump card after bidding complete"),u["ɵɵelementEnd"](),u["ɵɵelementStart"](46,"li"),u["ɵɵtext"](47,"Added game name so it's easier to find the game you want"),u["ɵɵelementEnd"](),u["ɵɵelementStart"](48,"li"),u["ɵɵtext"](49,"Added error popup when playing an invalid card"),u["ɵɵelementEnd"](),u["ɵɵelementStart"](50,"li"),u["ɵɵtext"](51,"Added dotted line around projected winner of hand"),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementEnd"]()),2&e&&(u["ɵɵadvance"](9),u["ɵɵproperty"]("ngForOf",t.games),u["ɵɵadvance"](4),u["ɵɵproperty"]("ngModel",t.gameName),u["ɵɵadvance"](2),u["ɵɵproperty"]("disabled",!t.gameName))},directives:[ee,P.g,P.e,P.f,g.k,C.b,C.j,C.m,P.m,P.o,i.f,P.n,P.p,P.q],encapsulation:2}),e}();function Ce(e,t){1&e&&(u["ɵɵelementStart"](0,"h2"),u["ɵɵtext"](1," Game has been started, no more players can be added. "),u["ɵɵelementEnd"]())}function ke(e,t){if(1&e){var n=u["ɵɵgetCurrentView"]();u["ɵɵelementStart"](0,"button",3),u["ɵɵlistener"]("click",(function(){u["ɵɵrestoreView"](n);var e=u["ɵɵnextContext"]().$implicit;return u["ɵɵnextContext"](2).removePlayer(e.id)})),u["ɵɵtext"](1,"Remove player"),u["ɵɵelementEnd"]()}}function Ie(e,t){if(1&e){var n=u["ɵɵgetCurrentView"]();u["ɵɵelementStart"](0,"sky-repeater-item"),u["ɵɵelementStart"](1,"sky-repeater-item-content"),u["ɵɵtext"](2),u["ɵɵelementStart"](3,"button",3),u["ɵɵlistener"]("click",(function(){u["ɵɵrestoreView"](n);var e=t.$implicit;return u["ɵɵnextContext"](2).redirectToPlayer(e.id)})),u["ɵɵtext"](4,"Go to player's screen"),u["ɵɵelementEnd"](),u["ɵɵtemplate"](5,ke,2,0,"button",4),u["ɵɵelementEnd"](),u["ɵɵelementEnd"]()}if(2&e){var r=t.$implicit,a=u["ɵɵnextContext"](2);u["ɵɵadvance"](2),u["ɵɵtextInterpolate2"](" Name: ",r.name," Id: ",r.id," "),u["ɵɵadvance"](3),u["ɵɵproperty"]("ngIf",!a.gameStarted)}}function Ee(e,t){if(1&e){var n=u["ɵɵgetCurrentView"]();u["ɵɵelementContainerStart"](0),u["ɵɵelementStart"](1,"input",5),u["ɵɵlistener"]("ngModelChange",(function(e){return u["ɵɵrestoreView"](n),u["ɵɵnextContext"](2).addPlayerName=e})),u["ɵɵelementEnd"](),u["ɵɵelementStart"](2,"button",6),u["ɵɵlistener"]("click",(function(){return u["ɵɵrestoreView"](n),u["ɵɵnextContext"](2).addPlayer()})),u["ɵɵtext"](3,"Add player"),u["ɵɵelementEnd"](),u["ɵɵelementStart"](4,"button",7),u["ɵɵlistener"]("click",(function(){return u["ɵɵrestoreView"](n),u["ɵɵnextContext"](2).startGame()})),u["ɵɵtext"](5,"Start game"),u["ɵɵelementEnd"](),u["ɵɵelementContainerEnd"]()}if(2&e){var r=u["ɵɵnextContext"](2);u["ɵɵadvance"](1),u["ɵɵproperty"]("ngModel",r.addPlayerName),u["ɵɵadvance"](1),u["ɵɵproperty"]("disabled",!r.canAddPlayer())}}function we(e,t){if(1&e&&(u["ɵɵelementStart"](0,"main"),u["ɵɵelementStart"](1,"sky-fluid-grid"),u["ɵɵelementStart"](2,"sky-row"),u["ɵɵelementStart"](3,"sky-column"),u["ɵɵelementStart"](4,"h1"),u["ɵɵtext"](5," BLACKOUT "),u["ɵɵelementEnd"](),u["ɵɵelementStart"](6,"p"),u["ɵɵtext"](7," Setting up the game. Have each player come to this page and add themselves (or someone else can add them). Once all players have been added, press 'Start game' to deal the first hand. Each player should click the link next to their name to be taken to their play screen. "),u["ɵɵelementEnd"](),u["ɵɵtemplate"](8,Ce,2,0,"h2",0),u["ɵɵelementStart"](9,"p"),u["ɵɵtext"](10),u["ɵɵelementEnd"](),u["ɵɵelementStart"](11,"sky-repeater",1),u["ɵɵtemplate"](12,Ie,6,3,"sky-repeater-item",2),u["ɵɵelementEnd"](),u["ɵɵtemplate"](13,Ee,6,2,"ng-container",0),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementEnd"](),u["ɵɵelementEnd"]()),2&e){var n=u["ɵɵnextContext"]();u["ɵɵadvance"](8),u["ɵɵproperty"]("ngIf",n.gameStarted),u["ɵɵadvance"](2),u["ɵɵtextInterpolate1"](" The game will be played with ",n.decksRequired," decks. More will be added if enough players are added. "),u["ɵɵadvance"](1),u["ɵɵproperty"]("expandMode","none"),u["ɵɵadvance"](1),u["ɵɵproperty"]("ngForOf",n.players),u["ɵɵadvance"](1),u["ɵɵproperty"]("ngIf",!n.gameStarted)}}var Pe=function(){function e(e,t,n){var r=this;this.route=e,this.apiService=t,this.router=n,this.players=[],this.gameStarted=!1,this.pageLoaded=!1,this.addPlayerName="",this.route.queryParams.subscribe((function(e){r.gameId=e.gameId}))}return e.prototype.ngOnInit=function(){this.refreshPlayerList()},e.prototype.addPlayer=function(){var e=this;this.apiService.addPlayer(this.gameId,this.addPlayerName).subscribe((function(){e.addPlayerName="",e.refreshPlayerList()}))},e.prototype.removePlayer=function(e){var t=this;this.apiService.removePlayer(this.gameId,e).subscribe((function(){t.refreshPlayerList()}))},e.prototype.redirectToPlayer=function(e){this.router.navigate(["../game"],{queryParams:{playerId:e,gameId:this.gameId},relativeTo:this.route})},e.prototype.startGame=function(){var e=this;this.apiService.finishSetup(this.gameId).subscribe((function(){e.refreshPlayerList()}))},e.prototype.canAddPlayer=function(){return!this.gameStarted&&this.addPlayerName.length>0},e.prototype.refreshPlayerList=function(){var e=this;this.apiService.getPregame(this.gameId).subscribe((function(t){e.players=t.player_list,e.decksRequired=t.decks_required,e.gameStarted=t.game_started,e.pageLoaded=!0}))},e.ɵfac=function(t){return new(t||e)(u["ɵɵdirectiveInject"](i.a),u["ɵɵdirectiveInject"](V),u["ɵɵdirectiveInject"](i.d))},e.ɵcmp=u["ɵɵdefineComponent"]({type:e,selectors:[["my-pregame"]],inputs:{addPlayerName:"addPlayerName"},decls:2,vars:1,consts:[[4,"ngIf"],[3,"expandMode"],[4,"ngFor","ngForOf"],[3,"click"],[3,"click",4,"ngIf"],["placeholder","Name",3,"ngModel","ngModelChange"],[3,"disabled","click"],[2,"margin-bottom","25px",3,"click"]],template:function(e,t){1&e&&(u["ɵɵelement"](0,"app-nav"),u["ɵɵtemplate"](1,we,14,5,"main",0)),2&e&&(u["ɵɵadvance"](1),u["ɵɵproperty"]("ngIf",t.pageLoaded))},directives:[ee,g.l,P.g,P.e,P.f,j.m,g.k,j.n,j.o,C.b,C.j,C.m],encapsulation:2}),e}(),Oe=function(){function e(){this.pathMap={"locales/resources_en_US.json":"/blackout-spa/assets/locales/resources_en_US.18c0988cdcb096326a375828a70ebdb29c8b1d1b.json"}}return e.prototype.getUrl=function(e){return this.pathMap[e]},e.prototype.getAllUrls=function(){return this.pathMap},e}();function je(e){var t={runtime:{app:{inject:!1,template:"C:\\Users\\Spencer.000\\Desktop\\Code\\skyux-spa-blackout-spa\\node_modules\\@skyux-sdk\\builder\\src\\main.ejs",base:"/blackout-spa/",name:"blackout-spa"},command:"build",componentsPattern:"**/*.component.ts",componentsIgnorePattern:"./public/**/*",includeRouteModule:!0,routesPattern:"**/index.html",runtimeAlias:"@skyux-sdk/builder/runtime",srcPath:"src/app/",spaPathAlias:"../..",skyPagesOutAlias:"../..",useTemplateUrl:!0,handle404:!0,routes:[{routePath:"game",routeParams:[]},{routePath:"",routeParams:[]},{routePath:"pregame",routeParams:[]},{routePath:""},{routePath:"**",routeParams:[]}]},skyux:{$schema:"./node_modules/@skyux/config/skyuxconfig-schema.json",mode:"easy",host:{url:"https://host.nxt.blackbaud.com",frameOptions:{none:!0}},app:{title:"Blackbaud - SKY UX Application"},compileMode:"aot",params:{addin:!0,envid:!0,leid:!0,svcid:!0},useHashRouting:!0}};return t.runtime.params=new p.d(e.nativeWindow.location.toString(),{addin:!0,envid:!0,leid:!0,svcid:!0}),t}function _e(e){var t=e.skyux.omnibar&&"1"!==e.runtime.params.get("addin"),n=new m.w;return n.viewportMarginTop=t?50:0,n}function Me(e){return new p.c({params:e.skyux.params})}K.a.config={$schema:"./node_modules/@skyux/config/skyuxconfig-schema.json",mode:"easy",host:{url:"https://host.nxt.blackbaud.com",frameOptions:{none:!0}},app:{title:"Blackbaud - SKY UX Application"},compileMode:"aot",params:{addin:!0,envid:!0,leid:!0,svcid:!0},useHashRouting:!0};var Ne=function(){function e(e,t){this.route=e,this.config=t}return e.prototype.ngOnInit=function(){this.sub=this.route.params.subscribe((function(e){}))},e.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},e.ɵfac=function(t){return new(t||e)(u["ɵɵdirectiveInject"](i.a),u["ɵɵdirectiveInject"](p.a))},e.ɵcmp=u["ɵɵdefineComponent"]({type:e,selectors:[["ng-component"]],decls:2,vars:0,consts:[["href","/game"]],template:function(e,t){1&e&&(u["ɵɵelement"](0,"base",0),u["ɵɵelement"](1,"my-game"))},directives:function(){return[ye]},encapsulation:2}),e}(),Fe=function(){function e(e,t){this.route=e,this.config=t}return e.prototype.ngOnInit=function(){this.sub=this.route.params.subscribe((function(e){}))},e.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},e.ɵfac=function(t){return new(t||e)(u["ɵɵdirectiveInject"](i.a),u["ɵɵdirectiveInject"](p.a))},e.ɵcmp=u["ɵɵdefineComponent"]({type:e,selectors:[["ng-component"]],decls:2,vars:0,consts:[["href","/"]],template:function(e,t){1&e&&(u["ɵɵelement"](0,"base",0),u["ɵɵelement"](1,"my-home"))},directives:function(){return[Se]},encapsulation:2}),e}(),Be=function(){function e(e,t){this.route=e,this.config=t}return e.prototype.ngOnInit=function(){this.sub=this.route.params.subscribe((function(e){}))},e.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},e.ɵfac=function(t){return new(t||e)(u["ɵɵdirectiveInject"](i.a),u["ɵɵdirectiveInject"](p.a))},e.ɵcmp=u["ɵɵdefineComponent"]({type:e,selectors:[["ng-component"]],decls:2,vars:0,consts:[["href","/pregame"]],template:function(e,t){1&e&&(u["ɵɵelement"](0,"base",0),u["ɵɵelement"](1,"my-pregame"))},directives:function(){return[Pe]},encapsulation:2}),e}(),Te=[],Ae=[{path:"",component:function(){function e(){}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=u["ɵɵdefineComponent"]({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&u["ɵɵelement"](0,"router-outlet")},directives:[i.h],encapsulation:2}),e}(),canActivate:[],canDeactivate:[],canActivateChild:[],children:[{path:"game",component:Ne,canActivate:[],canDeactivate:[],canActivateChild:[],children:[]},{path:"",component:Fe,canActivate:[],canDeactivate:[],canActivateChild:[],children:[]},{path:"pregame",component:Be,canActivate:[],canDeactivate:[],canActivateChild:[],children:[]}]},{path:"**",component:function(){function e(){}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=u["ɵɵdefineComponent"]({type:e,selectors:[["ng-component"]],decls:2,vars:3,consts:[["src","https://host.nxt.blackbaud.com/errors/notfound",2,"border","0","height","100vh","width","100%",3,"title"]],template:function(e,t){1&e&&(u["ɵɵelement"](0,"iframe",0),u["ɵɵpipe"](1,"skyAppResources")),2&e&&u["ɵɵproperty"]("title",u["ɵɵpipeBind1"](1,1,"skyux_builder_page_not_found_iframe_title"))},pipes:[I.c],encapsulation:2}),e}(),canActivate:[],canDeactivate:[],canActivateChild:[],children:[]}],He=i.g.forRoot(Ae,{useHash:!0});Object(u.enableProdMode)(),n("j7uo");var Ve=function(){function e(){}return e.ɵmod=u["ɵɵdefineNgModule"]({type:e}),e.ɵinj=u["ɵɵdefineInjector"]({factory:function(t){return new(t||e)},providers:[m.f,{provide:p.a,deps:[m.f],useFactory:je},{provide:p.c,useFactory:Me,deps:[p.a]},{provide:k.a,useClass:Oe},{provide:m.w,deps:[p.a],useFactory:_e},l.j,m.e,Te],imports:[[g.c,C.f,C.q,I.d,W.a,J.a,z,l.i,He]]}),e}(),Ge=function(){function e(){}return e.ɵmod=u["ɵɵdefineNgModule"]({type:e,bootstrap:[S]}),e.ɵinj=u["ɵɵdefineInjector"]({factory:function(t){return new(t||e)},imports:[[a.a,i.g,Ve]]}),e}();r.a.processBootstrapConfig().then((function(){a.c().bootstrapModule(Ge)}))}});
var SKY_PAGES_READY_APP_3D3C3F2E980A51090533 = true;
